{"version":3,"sources":["utils/api.tsx","components/Popup.tsx","components/Cards.tsx","components/Header.tsx","components/App.tsx","reportWebVitals.ts","index.tsx"],"names":["api","url","fetch","method","then","res","includes","status","json","Promise","reject","Error","Popup","props","classStatus","React","useState","sale","setSale","result","setResult","useEffect","className","el","number","date","replace","replaceAll","substring","Number","length","type","onMouseDown","closePopup","goods","map","go","index","name","count","price","toFixed","id","String","reduce","e","cur","sum","cr","Cards","order","setOrder","off","Fragment","draggable","prices","onClick","getOrder","openedPopup","Header","App","setStatus","setPrices","reverse","catch","err","console","log","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.210f9574.chunk.js","sourcesContent":["function api(url: string) {\r\n  function getResponse(res: any) {\r\n    const status = [200, 400, 401, 409];\r\n    if (status.includes(res.status)) {\r\n     return res.json();\r\n    }\r\n    return Promise.reject(new Error(`Ошибка api: ${res.status}`));\r\n  }\r\n\r\n  return fetch(`${url}`, {\r\n    method: 'GET',\r\n  }).then(getResponse);\r\n}\r\n\r\nexport default api;\r\n","import React from \"react\";\r\n\r\ninterface element {\r\n  status: boolean,\r\n  closePopup: () => void,\r\n  el: any,\r\n}\r\n\r\ninterface good {\r\n  count: number,\r\n  name: string,\r\n  id: string,\r\n  price: number\r\n}\r\n\r\nfunction Popup(props: element) {\r\n  const classStatus = props.status && 'container_opened';\r\n  const [sale, setSale] = React.useState('');\r\n  const [result, setResult] = React.useState('');\r\n\r\n  function getSales(): void {\r\n    const sale: string = (props.el.sale / props.el.goods.reduce((e: any, cur: good) => e + cur.price, 0) * 100).toFixed(2);\r\n    const sum = props.el.goods.reduce((e: number, cr: good): number => e + (cr.price * cr.count), 0);\r\n    const result = sum - (sum / Number(sale));\r\n    setSale(sale);\r\n    setResult(result.toFixed(2));\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (props.status) {\r\n      setSale('');\r\n      setResult('');\r\n    }\r\n  },[props.status]);\r\n\r\n  return (\r\n    <div className={`container container_type_popup ${classStatus}`}>\r\n      <div className=\"container__card container__card_type_popup\">\r\n        <div className=\"container__info\">\r\n          <div className=\"container__info container__info_type_popup\">\r\n            <h2 className=\"container__subtitle container__subtitle_type_popup\">\r\n              Заказ №{props.el && props.el.number}\r\n            </h2>\r\n            <span className=\"container__marker container__marker_type_popup\">\r\n              {props.el && props.el.date && props.el.date.replace('T', ': ').replaceAll('-', '.').substring(0, Number(props.el.date.length) - 2)}\r\n            </span>\r\n          </div>\r\n          <button\r\n            className=\"button button_type_close\"\r\n            type=\"button\"\r\n            onMouseDown={props.closePopup}\r\n          />\r\n        </div>\r\n        <div className=\"container__product container__product_type_order\">\r\n          <h3 className=\"container__subtitle\">\r\n            Товар\r\n          </h3>\r\n          <span className=\"container__marker\">\r\n            Название наименование товара\r\n          </span>\r\n        </div>\r\n        { props.el && props.el.goods.map((go: good, index: number) => {\r\n          return (<ul className=\"container__info container__info_type_order\" key={go.id.replaceAll('-', '') + String(index)}>\r\n            <li className=\"container__info container__info_type_popup\">\r\n              <h2 className=\"container__subtitle container__subtitle_type_product\">\r\n                {go.name}\r\n              </h2>\r\n              <span className=\"container__marker\">\r\n                товаров  {go.count}шт\r\n              </span>\r\n            </li>\r\n            <li className=\"container__description container__description_type_item\">\r\n              <h2 className=\"container__subtitle container__subtitle_type_order\">\r\n                {sale ? (go.price - (go.price * Number(sale) / 100)).toFixed(2) : go.price} Р\r\n              </h2>\r\n            </li>\r\n          </ul>)}\r\n        )}\r\n        <div className=\"container__product container__product_type_sale\">\r\n          <p className=\"container__marker\">\r\n            {sale ? `Скидка по заказу составила ${sale} %` : `Нажмите чтобы рассчитать скидку`}\r\n          </p>\r\n          <button\r\n            className=\"button button_type_sale\"\r\n            onMouseDown={getSales}\r\n            type=\"button\"\r\n          >\r\n              Итого: {result}\r\n            </button>\r\n          <p className=\"container__marker\">\r\n            Дата выдачи заказа 10 дней с момента оплаты\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Popup;","import React from 'react';\r\nimport Popup from './Popup';\r\n\r\ninterface popup {\r\n  openedPopup: () => void,\r\n  closePopup: () => void,\r\n  status: boolean,\r\n  prices: any,\r\n}\r\n\r\ninterface price {\r\n  id: string,\r\n  number: string,\r\n  sale: number,\r\n  date: string,\r\n  goods: any\r\n}\r\ninterface good {\r\n  count: number,\r\n  name: string,\r\n  id: string,\r\n  price: number\r\n}\r\n\r\n\r\nfunction Cards(props: popup): any {\r\n  const [order, setOrder]: any = React.useState();\r\n  function getOrder(el: price): void {\r\n    setOrder(el);\r\n  }\r\n\r\n  const off: string = props.status ? 'container_off' : '';\r\n  return (\r\n    <React.Fragment>\r\n      <div className={`container ${off}`}>\r\n        <div className=\"container__info\">\r\n          <h1 className=\"container__title\">\r\n            Список заказов\r\n          </h1>\r\n          <button className=\"button button_type_filter\" type=\"button\" />\r\n        </div>\r\n        <ul draggable=\"true\" className=\"container__cards\">\r\n        { props.prices.map((el: price) => {\r\n          return (\r\n            <li\r\n              key={el.id}\r\n              className=\"container__card\"\r\n              onClick={() => {\r\n                getOrder(el);\r\n                props.openedPopup();\r\n              }}\r\n            >\r\n              <ul className=\"container__product container__product_type_order\">\r\n                <li className=\"container__description container__description_type_info\">\r\n                  <h2 className=\"container__subtitle\">\r\n                    Заказ №{el.number}\r\n                  </h2>\r\n                  <h2 className=\"container__subtitle container__subtitle_type_marker\">\r\n                    {el.sale} Р\r\n                  </h2>\r\n                </li>\r\n                <li className=\"container__description container__description_type_time\">\r\n                  <span className=\"container__marker container__marker_type_data\">\r\n                    {el.date && el.date.replace('T', ': ').replaceAll('-', '.').substring(0, Number(el.date.length) - 2)}\r\n                  </span>\r\n                </li>\r\n              </ul>\r\n              <ul className=\"container__product container__product_type_description\">\r\n                <li className=\"container__description container__description_type_item\">\r\n                  <span className=\"container__marker\">\r\n                    - товаров {el.goods.reduce((e: any, cur: good) => e + cur.count, 0)}шт\r\n                  </span>\r\n                </li>\r\n                <li className=\"container__description container__description_type_product\">\r\n                  <span className=\"container__marker\">\r\n                  - наименований {el.goods.length}шт\r\n                  </span></li>\r\n              </ul>\r\n            </li>)}\r\n        )}\r\n          </ul>\r\n      </div>\r\n      <Popup\r\n        closePopup={props.closePopup}\r\n        el={order}\r\n        status={props.status}\r\n      />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default Cards;","import React from 'react';\r\n\r\nfunction Header() {\r\n return (\r\n  <div className=\"header\">\r\n   <button className=\"button button_type_menu\" type=\"button\"></button>\r\n  </div>\r\n )\r\n}\r\n\r\nexport default Header;","import React from 'react';\nimport api from '../utils/api';\nimport Cards from './Cards';\nimport Header from './Header';\n\nfunction App() {\n  const [status, setStatus] = React.useState(false);\n  const [prices, setPrices] = React.useState([]);\n\n  const openedPopup = () => {\n    setStatus(true);\n  };\n  const closePopup = () => {\n    setStatus(false);\n  };\n\n  React.useEffect(() => {\n    api('https://u38027.netangels.ru/api/orders.php')\n      .then((res) => {\n        setPrices(res.reverse());\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n\n\n  return (\n    <div className=\"app\">\n      <Header />\n      <Cards\n        prices={prices}\n        openedPopup={openedPopup}\n        closePopup={closePopup}\n        status={status}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}