(this.webpackJsonpprice=this.webpackJsonpprice||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(4),r=n.n(a),i=n(2);var o=function(e){return fetch("".concat(e),{method:"GET"}).then((function(e){return[200,400,401,409].includes(e.status)?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430 api: ".concat(e.status)))}))},_=n(0);var l=function(e){var t=e.status&&"container_opened",n=s.a.useState(""),c=Object(i.a)(n,2),a=c[0],r=c[1],o=s.a.useState(""),l=Object(i.a)(o,2),u=l[0],p=l[1];return s.a.useEffect((function(){e.status&&(r(""),p(""))}),[e.status]),Object(_.jsx)("div",{className:"container container_type_popup ".concat(t),children:Object(_.jsxs)("div",{className:"container__card container__card_type_popup",children:[Object(_.jsxs)("div",{className:"container__info",children:[Object(_.jsxs)("div",{className:"container__info container__info_type_popup",children:[Object(_.jsxs)("h2",{className:"container__subtitle container__subtitle_type_popup",children:["\u0417\u0430\u043a\u0430\u0437 \u2116",e.el&&e.el.number]}),Object(_.jsx)("span",{className:"container__marker container__marker_type_popup",children:e.el&&e.el.date&&e.el.date.replace("T",": ").replaceAll("-",".").substring(0,Number(e.el.date.length)-2)})]}),Object(_.jsx)("button",{className:"button button_type_close",type:"button",onMouseDown:e.closePopup})]}),Object(_.jsxs)("div",{className:"container__product container__product_type_order",children:[Object(_.jsx)("h3",{className:"container__subtitle",children:"\u0422\u043e\u0432\u0430\u0440"}),Object(_.jsx)("span",{className:"container__marker",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430"})]}),e.el&&e.el.goods.map((function(e,t){return Object(_.jsxs)("ul",{className:"container__info container__info_type_order",children:[Object(_.jsxs)("li",{className:"container__info container__info_type_popup",children:[Object(_.jsx)("h2",{className:"container__subtitle container__subtitle_type_product",children:e.name}),Object(_.jsxs)("span",{className:"container__marker",children:["\u0442\u043e\u0432\u0430\u0440\u043e\u0432  ",e.count,"\u0448\u0442"]})]}),Object(_.jsx)("li",{className:"container__description container__description_type_item",children:Object(_.jsxs)("h2",{className:"container__subtitle container__subtitle_type_order",children:[a?(e.price-e.price*Number(a)/100).toFixed(2):e.price," \u0420"]})})]},e.id.replaceAll("-","")+String(t))})),Object(_.jsxs)("div",{className:"container__product container__product_type_sale",children:[Object(_.jsx)("p",{className:"container__marker",children:a?"\u0421\u043a\u0438\u0434\u043a\u0430 \u043f\u043e \u0437\u0430\u043a\u0430\u0437\u0443 \u0441\u043e\u0441\u0442\u0430\u0432\u0438\u043b\u0430 ".concat(a," %"):"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0447\u0442\u043e\u0431\u044b \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044c \u0441\u043a\u0438\u0434\u043a\u0443"}),Object(_.jsxs)("button",{className:"button button_type_sale",onMouseDown:function(){var t=(e.el.sale/e.el.goods.reduce((function(e,t){return e+t.price}),0)*100).toFixed(2),n=e.el.goods.reduce((function(e,t){return e+t.price*t.count}),0),c=n-n/Number(t);r(t),p(c.toFixed(2))},type:"button",children:["\u0418\u0442\u043e\u0433\u043e: ",u]}),Object(_.jsx)("p",{className:"container__marker",children:"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438 \u0437\u0430\u043a\u0430\u0437\u0430 10 \u0434\u043d\u0435\u0439 \u0441 \u043c\u043e\u043c\u0435\u043d\u0442\u0430 \u043e\u043f\u043b\u0430\u0442\u044b"})]})]})})};var u=function(e){var t=s.a.useState(),n=Object(i.a)(t,2),c=n[0],a=n[1],r=e.status?"container_off":"";return Object(_.jsxs)(s.a.Fragment,{children:[Object(_.jsxs)("div",{className:"container ".concat(r),children:[Object(_.jsxs)("div",{className:"container__info",children:[Object(_.jsx)("h1",{className:"container__title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(_.jsx)("button",{className:"button button_type_filter",type:"button"})]}),Object(_.jsx)("ul",{draggable:"true",className:"container__cards",children:e.prices.map((function(t){return Object(_.jsxs)("li",{className:"container__card",onClick:function(){!function(e){a(e)}(t),e.openedPopup()},children:[Object(_.jsxs)("ul",{className:"container__product container__product_type_order",children:[Object(_.jsxs)("li",{className:"container__description container__description_type_info",children:[Object(_.jsxs)("h2",{className:"container__subtitle",children:["\u0417\u0430\u043a\u0430\u0437 \u2116",t.number]}),Object(_.jsxs)("h2",{className:"container__subtitle container__subtitle_type_marker",children:[t.sale," \u0420"]})]}),Object(_.jsx)("li",{className:"container__description container__description_type_time",children:Object(_.jsx)("span",{className:"container__marker container__marker_type_data",children:t.date&&t.date.replace("T",": ").replaceAll("-",".").substring(0,Number(t.date.length)-2)})})]}),Object(_.jsxs)("ul",{className:"container__product container__product_type_description",children:[Object(_.jsx)("li",{className:"container__description container__description_type_item",children:Object(_.jsxs)("span",{className:"container__marker",children:["- \u0442\u043e\u0432\u0430\u0440\u043e\u0432 ",t.goods.reduce((function(e,t){return e+t.count}),0),"\u0448\u0442"]})}),Object(_.jsx)("li",{className:"container__description container__description_type_product",children:Object(_.jsxs)("span",{className:"container__marker",children:["- \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0439 ",t.goods.length,"\u0448\u0442"]})})]})]},t.id)}))})]}),Object(_.jsx)(l,{closePopup:e.closePopup,el:c,status:e.status})]})};var p=function(){return Object(_.jsx)("div",{className:"header",children:Object(_.jsx)("button",{className:"button button_type_menu",type:"button"})})};var d=function(){var e=s.a.useState(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],a=s.a.useState([]),r=Object(i.a)(a,2),l=r[0],d=r[1];return s.a.useEffect((function(){o("https://u38027.netangels.ru/api/orders.php").then((function(e){d(e.reverse())})).catch((function(e){return console.log(e)}))}),[]),Object(_.jsxs)("div",{className:"app",children:[Object(_.jsx)(p,{}),Object(_.jsx)(u,{prices:l,openedPopup:function(){c(!0)},closePopup:function(){c(!1)},status:n})]})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,12)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};n(10);r.a.render(Object(_.jsx)(s.a.StrictMode,{children:Object(_.jsx)(d,{})}),document.getElementById("root")),j()}},[[11,1,2]]]);
//# sourceMappingURL=main.210f9574.chunk.js.map